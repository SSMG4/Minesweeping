<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minesweeping</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Modal for username/password on first visit -->
  <div id="auth-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Welcome to Minesweeping</h2>
      <p>Please choose a username and password. <b>No recovery possible!</b></p>
      <form id="auth-form">
        <input type="text" id="username" placeholder="Username" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Continue</button>
      </form>
      <p id="auth-error" class="error"></p>
      <small class="disclaimer">Disclaimer: If you lose your password, your account cannot be recovered.</small>
    </div>
  </div>

  <!-- Daily Challenge Notification -->
  <div id="daily-notify" class="notify hidden">
    <span id="daily-message"></span>
    <button id="daily-close">OK</button>
  </div>

  <!-- Main menu -->
  <div id="menu" class="screen">
    <h1>Minesweeping</h1>
    <div class="smiley-row">
      <span id="smiley" class="smiley">üôÇ</span>
      <span id="hint-icon" class="hint-icon hidden" title="Hint"></span>
    </div>
    <p>Welcome, <span id="current-user"></span>! <span id="user-streak"></span></p>
    <button id="start-game-btn">Start Game</button>
    <button id="daily-challenge-btn">Daily Challenge</button>
    <button id="stats-btn">Statistics</button>
    <button id="how-to-btn">How to Play</button>
    <button id="settings-btn">Settings</button>
    <button id="logout-btn">Logout</button>
  </div>

  <!-- Game Screen -->
  <div id="game" class="screen hidden">
    <div class="top-bar">
      <button id="back-to-menu">‚Üê Back</button>
      <span id="game-smiley" class="smiley">üôÇ</span>
      <span id="game-hint-icon" class="hint-icon hidden" title="Hint"></span>
      <span id="timer">000</span>
      <span id="bombs-left">Bombs: 0</span>
      <button id="fullscreen-btn">Fullscreen</button>
      <button id="field-fullscreen-btn">Field Fullscreen</button>
    </div>
    <div id="minefield-container">
      <div id="minefield"></div>
    </div>
    <div class="game-bottom">
      <span id="difficulty-label"></span>
      <span id="cell-size-label"></span>
      <span id="bombs-flagged-label"></span>
    </div>
  </div>

  <!-- Statistics Screen -->
  <div id="stats" class="screen hidden">
    <button class="back-btn">‚Üê Back</button>
    <h2>Your Statistics</h2>
    <div id="stats-content"></div>
  </div>

  <!-- How to Play Screen -->
  <div id="howto" class="screen hidden">
    <button class="back-btn">‚Üê Back</button>
    <h2>How to Play</h2>
    <div class="howto-content">
      <p>
        Minesweeping is a classic puzzle game. Uncover all cells that don't contain bombs. Flag cells you think contain bombs. Use the numbers to deduce where bombs are. Two hints per round available!
      </p>
      <ul>
        <li>Left click: Reveal cell</li>
        <li>Right click or long tap: Place/remove flag</li>
        <li>Smiley face: Restart game</li>
        <li>Hints: Click the lightbulb on smiley</li>
      </ul>
      <p>Good luck!</p>
    </div>
  </div>

  <!-- Settings Screen -->
  <div id="settings" class="screen hidden">
    <button class="back-btn">‚Üê Back</button>
    <h2>Settings</h2>
    <form id="settings-form">
      <label>Theme:
        <select id="theme-select">
          <option value="classic">Classic</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
          <option value="black">Black</option>
        </select>
      </label>
      <label>Difficulty:
        <select id="difficulty-select">
          <option value="easy">Easy</option>
          <option value="medium">Medium</option>
          <option value="hard">Hard</option>
          <option value="extreme">Extreme</option>
        </select>
      </label>
      <label>Cell Size:
        <select id="cell-size-select">
          <option value="small">Small</option>
          <option value="medium" selected>Medium</option>
          <option value="large">Large</option>
        </select>
      </label>
    </form>
    <button id="save-settings-btn">Save</button>
  </div>

  <script src="script.js"></script>
</body>
</html>
